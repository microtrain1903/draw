var draw=function(){var e=document.querySelector("main").offsetWidth,t=document.querySelector("main").offsetHeight,n=document.createElement("canvas"),a=n.getContext("2d"),r=n.getBoundingClientRect(),i=0,o=0,d=0,c=0,s=0,u=0;return shape="",{setShape:function(e){shape=e},draw:function(){a.restore(),"rectangle"===shape?this.drawRect():"line"===shape?this.drawLine():alert("Please choose a shape"),a.save()},setXY:function(e){i=e.clientX-r.left-n.offsetLeft,o=e.clientY-r.top-n.offsetTop},writeXY:function(){document.getElementById("trackX").innerHTML="X: "+i,document.getElementById("trackY").innerHTML="Y: "+o},setStart:function(){d=i,c=o},setEnd:function(){s=i,u=o},drawRect:function(){a.fillStyle="#"+Math.floor(16777215*Math.random()).toString(16),a.fillRect(d,c,s-d,u-c)},drawLine:function(){a.strokeStyle="#"+Math.floor(16777215*Math.random()).toString(16),a.beginPath(),a.moveTo(d,c),a.lineTo(s,u),a.stroke()},getCanvas:function(){return n},init:function(){n.width=e,n.height=t,document.querySelector("main").appendChild(n)}}}();draw.init(),draw.getCanvas().addEventListener("mousemove",function(e){draw.setXY(e),draw.writeXY()},!1),draw.getCanvas().addEventListener("mousedown",function(){draw.setStart()},!1),draw.getCanvas().addEventListener("mouseup",function(){draw.setEnd(),draw.draw()},!1),document.getElementById("btnRect").addEventListener("click",function(){draw.setShape("rectangle")},!1),document.getElementById("btnLine").addEventListener("click",function(){draw.setShape("line")},!1);